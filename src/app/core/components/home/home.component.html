<!--<ActivityIndicator [busy]="busy" class="activity-indicator"></ActivityIndicator>-->
<StackLayout>
    <LottieView width="100" height="150" src="loading-animation.json" [loop]="true" [autoPlay]="true"
    *ngIf="busy">
    </LottieView>
</StackLayout>

<ScrollView *ngIf="!busy">

    <GridLayout
            rows="auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto"
            class="m-5 change_opacity">

        <GridLayout row="0" height="150">
            <Carousel
                    [items]="images"
                    android:indicatorAnimation="thin_worm" indicatorColor="#595d62" indicatorOffset="0, 20"
                    showIndicator="true">
                <CarouselItem *ngFor="let item of images" verticalAlignment="middle">
                    <GridLayout>
                        <NSImg class="m-2 carousel__image" [src]="item"
                               showProgressBar="true" progressBarColor="blue" roundedCornerRadius="15"
                               roundBottomLeft="true" roundBottomRight="true" roundTopLeft="true"
                               roundTopRight="true"></NSImg>
                    </GridLayout>
                </CarouselItem>
            </Carousel>
        </GridLayout>

        <StackLayout row="1" class="m-t-10">
            <Label class="label recommended__label" text="Recommended"></Label>

            <ScrollView orientation="horizontal" scrollBarIndicatorVisible="false">
                <StackLayout orientation="horizontal">
                    <StackLayout
                            class="product recommended__item"
                            *ngFor="let product of products"
                            (tap)="goToProduct(product)">
                        <NSImg src="{{product.mainPhoto}}" class="recommended__item_image"
                               roundedCornerRadius="10"
                               roundBottomLeft="true" roundBottomRight="true"></NSImg>
                        <StackLayout class="recommended__item_details">
                            <Label
                                    class="label home__label recommended__item_name"
                                    text="{{product.name}} + Name Name Name Name Name Name Name Name Name NameNameNameNameNameName"
                                    textWrap="false"></Label>
                            <StackLayout orientation="horizontal" class="recommended__item_variations">
                                <Label
                                        text="{{product.variations.join(', ')}}"
                                        class="label home__label recommended__item_variation">
                                </Label>
                            </StackLayout>
                            <Label class="label home__label recommended__item_price" text="{{product.price}}"></Label>
                        </StackLayout>
                    </StackLayout>
                </StackLayout>
            </ScrollView>
        </StackLayout>

        <GridLayout row="2" height="150" class="m-t-15">
            <Carousel
                    [items]="images"
                    android:indicatorAnimation="worm" indicatorColor="#595d62" indicatorOffset="0, 20"
                    showIndicator="true">
                <CarouselItem *ngFor="let item of images" verticalAlignment="middle">
                    <GridLayout>
                        <NSImg class="m-2 carousel__image" [src]="item"
                               showProgressBar="true" progressBarColor="blue" roundedCornerRadius="15"
                               roundBottomLeft="true" roundBottomRight="true" roundTopLeft="true"
                               roundTopRight="true"></NSImg>
                    </GridLayout>
                </CarouselItem>
            </Carousel>
        </GridLayout>

        <GridLayout row="3" height="150" class="m-t-15">
            <Carousel
                    [items]="images"
                    android:indicatorAnimation="worm" indicatorColor="#595d62" indicatorOffset="0, 20"
                    showIndicator="true">
                <CarouselItem *ngFor="let item of images" verticalAlignment="middle">
                    <GridLayout>
                        <NSImg class="m-2 carousel__image" [src]="item"
                               showProgressBar="true" progressBarColor="blue" roundedCornerRadius="15"
                               roundBottomLeft="true" roundBottomRight="true" roundTopLeft="true"
                               roundTopRight="true"></NSImg>
                    </GridLayout>
                </CarouselItem>
            </Carousel>
        </GridLayout>

        <FlexboxLayout row="4" class="m-t-15"
                       flexWrap="wrap" justifyContent="space-around">
            <StackLayout
                    class="product all__items"
                    *ngFor="let product of products"
                    (tap)="goToProduct(product)">

                <NSImg src="{{product.mainPhoto}}" class="recommended__item_image"
                       roundedCornerRadius="10"
                       roundBottomLeft="true" roundBottomRight="true"></NSImg>
                <StackLayout class="recommended__item_details">
                    <Label
                            class="label home__label recommended__item_name"
                            text="{{product.name}} + Name Name Name Name Name Name Name Name Name NameNameNameNameNameName"
                            textWrap="false"></Label>
                    <StackLayout orientation="horizontal" class="recommended__item_variations">
                        <Label
                                text="{{product.variations.join(', ')}}"
                                class="label home__label recommended__item_variation">
                        </Label>
                    </StackLayout>
                    <Label class="label home__label recommended__item_price" text="{{product.price}}"></Label>
                </StackLayout>
            </StackLayout>
        </FlexboxLayout>

    </GridLayout>

</ScrollView>

